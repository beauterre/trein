<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play with Speed and Events</title>
</head>
<body style="background-image: url(trein.jpg); color: #fff;">
  <h1>Met de trein</h1>
  <div id="eventText" style="font-size: 40px; text-shadow: 0 0 5px  #000;"></div>
  <audio id="audioPlayer" controls  loop="true">
    <source src="trein-120.wav" type="audio/wav">
    Your browser does not support the audio element.
  </audio> <a href="trein-120.wav">langzaam oefenen</a>


  <script>
    const audioPlayer = document.getElementById('audioPlayer');
    const eventText = document.getElementById('eventText');
    
    const events = [
      { t: 0.1, speed: 1.0, text: "..." },
      { t: 7.8, speed: 1.0, text: "Op het station, oh zo fijn" },
      { t: 11.8, speed: 1.0, text: "Wachten wij op de trein." },
      { t: 15.8, speed: 1.0, text: "Sven en oma Lies," },
      { t: 18.8, speed: 1.0, text: "Met de trein, gaan ze blij." },

      //

      { t: 23.8, speed: 1.1, text: "Sven en oma Lies, zo fijn" },
      { t: 27.8, speed: 1.1, text: "Naar het bos, blij en klein." },
      { t: 31.8, speed: 1.1, text: "Sven en oma Lies," },
      { t: 35.8, speed: 1.1, text: "Met de trein naar het bosfestijn." },

      //

      { t: 39.8, speed: 1.3, text: "Langs de bergen, door het bos," },
      { t: 43.8, speed: 1.3, text: "Fluisterend gras en heel zacht mos." },
      { t: 47.8, speed: 1.3, text: "Koeien kijken, naar ze terug," },
      { t: 51.8, speed: 1.3, text: "Tjoek-tjoek-tjoek, over de brug." },

      //

      { t: 55.8, speed: 1.4, text: "Sven en oma Lies, zo fijn" },
      { t: 59.8, speed: 1.4, text: "Naar het bos, blij en klein." },
      { t: 63.8, speed: 1.4, text: "Sven en oma Lies," },
      { t: 67.8, speed: 1.4, text: "Met de trein naar het bosfestijn." },

      //

      { t: 71.8, speed: 1.6, text: "Oma en Sven, hand in hand," },
      { t: 75.8, speed: 1.6, text: "Naar het bos, een betoverd land." },
      { t: 79.8, speed: 1.6, text: "Bomen zingen, water klotst," },
      { t: 83.8, speed: 1.6, text: "Tjoek-tjoek-tjoek, dansen op het mos." },

      //

      { t: 87.8, speed: 1.7, text: "Sven en oma Lies, zo fijn" },
      { t: 91.8, speed: 1.7, text: "Naar het bos, blij en klein." },
      { t: 95.8, speed: 1.7, text: "Sven en oma Lies," },
      { t: 99.8, speed: 1.7, text: "Met de trein naar het bosfestijn." },

      //

      { t: 103.8, speed: 1.0, text: "De zon die zakt, de dag voorbij," },
      { t: 107.8, speed: 1.0, text: "De trein rust uit, onder sterren, blij." },
      { t: 111.8, speed: 1.0, text: "Avonturen, groot en klein," },
      { t: 115.8, speed: 1.0, text: "Tjoek-tjoek-tjoek , morgen, weer zo fijn!" },


    ];

    function handleTimeUpdate() {
      const currentTime = audioPlayer.currentTime;

      // Find the event corresponding to the current time
      const currentEvent = events.find(event => currentTime >= event.t && currentTime < event.t + 2); // Assuming events have a 2-second duration

      // Update speed and text based on the current event
      if (currentEvent) {
        audioPlayer.playbackRate = currentEvent.speed;
        eventText.textContent = currentEvent.text;
      }
    }

    // Attach the timeupdate event listener
    audioPlayer.addEventListener('timeupdate', handleTimeUpdate);

    // Play the audio when the page loads
    audioPlayer.addEventListener('loadedmetadata', () => {
//      audioPlayer.play();
// we wachten gewoon op de klik..
    });
  </script>
</body>
</html>
